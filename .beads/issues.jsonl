{"id":"meta-0bx","title":"Change iMessage attachment retention","description":"71GB in ~/Library/Messages/Attachments. System Settings → Messages → Keep Messages → '1 Year' for ~50GB savings.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:39:45.216477-05:00","updated_at":"2025-12-27T01:39:45.216477-05:00"}
{"id":"meta-463","title":"Set up cloud storage for CloudArchive","description":"11GB in ~/CloudArchive ready for cloud upload. Decide on Google Drive vs iCloud. Budget ~$10/mo for 2TB.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T01:39:43.794246-05:00","updated_at":"2026-01-04T15:10:36.941036-05:00","closed_at":"2026-01-04T15:10:36.941036-05:00","close_reason":"Completed 2026-01-02: CloudArchive (42GB) moved to iCloud Drive. Auto-offloads when disk pressure increases."}
{"id":"meta-77v","title":"Verify conda/anaconda usage","description":"4.9GB in anaconda. Check if actively used with 'conda env list'. Remove if not needed.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-27T01:39:44.46384-05:00","updated_at":"2025-12-27T01:39:44.46384-05:00"}
{"id":"meta-gl8","title":"Project: exa-helper - review uncommitted changes","description":"exa-helper has 25+ uncommitted files. Review and either commit or clean up.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:39:43.229966-05:00","updated_at":"2025-12-27T01:39:43.229966-05:00"}
{"id":"meta-s6g","title":"Test meta issue","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-27T01:39:24.408904-05:00","updated_at":"2025-12-27T01:39:42.585961-05:00","deleted_at":"2025-12-27T01:39:42.585961-05:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"meta-viv","title":"Evaluate sag CLI TTS tool (ElevenLabs)","description":"Repo: https://github.com/steipete/sag\n\nTL;DR from analysis:\n- CLI TTS using ElevenLabs API, mimics macOS 'say'\n- Free tier: 10k chars/mo (~26 min with Turbo), non-commercial only\n- Starter: /mo for 30k chars (~80 min)\n- Worth trying free tier to see if TTS fits workflow\n- Per-machine install (won't help Phoenix on different system)\n\nDecision: Try free tier first, test macOS enhanced voices as alternative.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T15:01:44.999201-05:00","updated_at":"2026-01-04T15:01:44.999201-05:00"}
{"id":"sherlock-0cr","title":"Handle ZenRows 422 for Redfin fallback","description":"Retry Redfin ZenRows search without premium proxy on 422, return [] on failure to avoid ingestion crash.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T16:20:42.125647-08:00","updated_at":"2026-01-19T16:21:39.111743-08:00","closed_at":"2026-01-19T16:21:39.111743-08:00","close_reason":"Closed"}
{"id":"sherlock-1rc","title":"Phase 2: Personalization","description":"Feedback-driven personalization and comparison tools. Learn real preferences without overfitting.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-27T01:33:30.143832-05:00","updated_at":"2025-12-27T01:33:30.143832-05:00"}
{"id":"sherlock-2o6","title":"Harden ZenRows requests (timeout + retry)","description":"Increase ZenRows timeout and add retry/backoff for transient timeouts in Zillow + universal client.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T12:42:55.901716-08:00","updated_at":"2026-01-19T12:43:55.886716-08:00","closed_at":"2026-01-19T12:43:55.886716-08:00","close_reason":"Closed"}
{"id":"sherlock-2xq","title":"Implement job queue for async work","description":"Move ingestion, visual scoring, alert dispatch to queue. Add retries with backoff. Failure visibility. GET /admin/jobs endpoint for queue status.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-27T01:34:08.142905-05:00","updated_at":"2025-12-27T01:34:08.142905-05:00"}
{"id":"sherlock-3vu","title":"Disable SF tranquility scoring for NYC","status":"closed","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T09:41:40.133107-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T13:19:51.467214-08:00","closed_at":"2026-02-21T13:19:51.467214-08:00","close_reason":"Closed"}
{"id":"sherlock-4pm","title":"Investigate local DNS resolution for ZenRows/OpenAI","description":"Ingestion fails with ConnectError: nodename nor servname provided. Capture DNS troubleshooting steps and ensure local resolver works for api.zenrows.com/api.openai.com.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-19T12:43:17.790224-08:00","updated_at":"2026-01-19T12:43:17.790224-08:00"}
{"id":"sherlock-4vz","title":"Implement 4 missing scoring criteria (34pts)","status":"closed","priority":0,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T09:41:40.194088-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T13:19:51.468968-08:00","closed_at":"2026-02-21T13:19:51.468968-08:00","close_reason":"Closed"}
{"id":"sherlock-5or","title":"Add parallel ingestion with asyncio.gather","description":"Speed up ingestion by parallelizing ZenRows calls. Respect rate limits. Handle partial failures gracefully.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-27T01:34:09.414482-05:00","updated_at":"2025-12-27T01:34:09.414482-05:00"}
{"id":"sherlock-6rh","title":"Build bounded weight learning system","description":"Update per-user weights with bounded deltas. Require minimum signal count before changing weights. Add GET /users/{id}/weights endpoint. Show learned preferences summary with reset option.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T01:33:52.200432-05:00","updated_at":"2026-01-19T23:13:20.832671-08:00","closed_at":"2026-01-19T23:13:20.832671-08:00","close_reason":"Implemented bounded weight learning system with all four endpoints (GET weights, GET summary, POST recalculate, DELETE reset). Learning algorithm uses bounded deltas (±0.5 max), requires 5 signals minimum (3 likes, 2 dislikes), and multiplier bounds [0.5x, 2.0x]. Integrated with PropertyMatcher so matches use learned weights.","dependencies":[{"issue_id":"sherlock-6rh","depends_on_id":"sherlock-ms9","type":"blocks","created_at":"2025-12-27T01:34:32.856532-05:00","created_by":"daemon"}]}
{"id":"sherlock-7li","title":"Add polygon and neighborhood map filters","description":"Accept polygon/neighborhood in POST /criteria. Add geo filters to GET /listings. Interactive map for filter selection in frontend.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:33:53.564785-05:00","updated_at":"2025-12-27T01:33:53.564785-05:00"}
{"id":"sherlock-8fq","title":"Frontend: listing detail explainability + signals","description":"Add score/tier, top positives, tradeoff, why-now, and signals to listing detail view for full explainability.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T09:59:28.895785-08:00","updated_at":"2026-01-19T10:02:53.316941-08:00","closed_at":"2026-01-19T10:02:53.316941-08:00","close_reason":"Closed"}
{"id":"sherlock-8vl","title":"Next-level scoring redesign exploration for NYC rentals","description":"Capture and drive a focused redesign of scoring calibration, ranking behavior, and explainability alignment for NYC rental search. Source analysis: docs/SCORING_DEEP_DIVE_2026-02-22.md","status":"open","priority":1,"issue_type":"epic","owner":"samay58@gmail.com","created_at":"2026-02-21T21:35:24.461737-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T21:35:24.461737-08:00","labels":["calibration","nyc-rental","scoring"]}
{"id":"sherlock-8vl.1","title":"Calibrate score bands and tier thresholds for NYC rental reality","description":"Use empirical score distributions and user review outcomes to propose calibrated thresholds (absolute or percentile-based) so top listings are meaningfully separated and tier labels align with perceived quality.","status":"open","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T21:35:42.184717-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T21:35:42.184717-08:00","labels":["calibration","ranking","scoring"],"dependencies":[{"issue_id":"sherlock-8vl.1","depends_on_id":"sherlock-8vl","type":"parent-child","created_at":"2026-02-21T21:35:42.185656-08:00","created_by":"Samay Dhawan"}]}
{"id":"sherlock-8vl.2","title":"Align criteria config keys with scorer implementation","description":"Resolve scoring-impact mismatches between YAML config and code paths (for example noise vs location_noise), and implement declared but currently unwired location penalty conditions.","status":"open","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T21:36:02.62343-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T21:36:02.62343-08:00","labels":["config","correctness","scoring"],"dependencies":[{"issue_id":"sherlock-8vl.2","depends_on_id":"sherlock-8vl","type":"parent-child","created_at":"2026-02-21T21:36:02.62444-08:00","created_by":"Samay Dhawan"}]}
{"id":"sherlock-8vl.3","title":"Rework hard-filter handling for missing listing fields","description":"Evaluate binary rejection behavior when key fields (especially sqft) are missing, and design unknown-data handling that preserves strong candidates without weakening quality controls.","status":"open","priority":2,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T21:36:19.941876-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T21:36:19.941876-08:00","labels":["data-quality","ingestion","scoring"],"dependencies":[{"issue_id":"sherlock-8vl.3","depends_on_id":"sherlock-8vl","type":"parent-child","created_at":"2026-02-21T21:36:19.9427-08:00","created_by":"Samay Dhawan"}]}
{"id":"sherlock-8vl.4","title":"Design NYC-native quiet-location intelligence","description":"Replace or conditionally disable SF-bounded tranquility scoring for NYC mode, and define a credible NYC noise/quiet signal strategy.","status":"open","priority":2,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T21:36:35.857705-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T21:36:35.857705-08:00","labels":["geospatial","nyc-rental","scoring"],"dependencies":[{"issue_id":"sherlock-8vl.4","depends_on_id":"sherlock-8vl","type":"parent-child","created_at":"2026-02-21T21:36:35.858619-08:00","created_by":"Samay Dhawan"}]}
{"id":"sherlock-8vl.5","title":"Make score explanations traceable and consistent","description":"Define precedence and transparency rules between score-derived reasons and LLM-generated narrative updates so users can trust why a listing ranked where it did.","status":"open","priority":2,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T21:36:55.348385-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T21:36:55.348385-08:00","labels":["explainability","scoring","ux"],"dependencies":[{"issue_id":"sherlock-8vl.5","depends_on_id":"sherlock-8vl","type":"parent-child","created_at":"2026-02-21T21:36:55.349571-08:00","created_by":"Samay Dhawan"}]}
{"id":"sherlock-9ky","title":"Validation: ingestion + matches run","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T03:29:42.917519-08:00","updated_at":"2026-01-19T03:38:10.98498-08:00","closed_at":"2026-01-19T03:38:10.98498-08:00","close_reason":"Closed"}
{"id":"sherlock-9qq","title":"StreetEasy provider: strengthen URL extraction + parse pet/laundry/elevator signals","status":"open","priority":2,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-22T16:10:47.90501-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-22T16:10:47.90501-08:00"}
{"id":"sherlock-9ub","title":"Fix SQLite SERIAL primary keys for local ingestion","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T12:42:21.112508-08:00","updated_at":"2026-01-19T12:43:36.703016-08:00","closed_at":"2026-01-19T12:43:36.703016-08:00","close_reason":"Closed"}
{"id":"sherlock-9xf","title":"Add commute time and POI distances","description":"Accept commute targets in criteria. Calculate commute times via routing API. POI distance calculations. Walk/Transit/Bike score integration.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:33:55.043547-05:00","updated_at":"2025-12-27T01:33:55.043547-05:00","dependencies":[{"issue_id":"sherlock-9xf","depends_on_id":"sherlock-7li","type":"blocks","created_at":"2025-12-27T01:34:33.639206-05:00","created_by":"daemon"}]}
{"id":"sherlock-ab1","title":"Multi-market expansion beyond SF","description":"Abstract market-specific logic. Add market selector. Expand noise data and neighborhood mappings to new markets.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-27T01:34:10.754989-05:00","updated_at":"2025-12-27T01:34:10.754989-05:00","dependencies":[{"issue_id":"sherlock-ab1","depends_on_id":"sherlock-7li","type":"blocks","created_at":"2025-12-27T01:34:34.474845-05:00","created_by":"daemon"}]}
{"id":"sherlock-b0c","title":"Build compare view (2-4 listings side-by-side)","description":"Show score delta + 3 decisive differences between selected listings. Frontend component for comparison. API endpoint for comparison data.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:33:52.876046-05:00","updated_at":"2025-12-27T01:33:52.876046-05:00"}
{"id":"sherlock-b2p","title":"Integrate noise layers (freeways, fire, rail)","description":"Overlay noise sources on map view. Use existing Tranquility Score data. Visual indicators for noise exposure levels.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T01:33:54.27073-05:00","updated_at":"2025-12-27T01:33:54.27073-05:00","dependencies":[{"issue_id":"sherlock-b2p","depends_on_id":"sherlock-7li","type":"blocks","created_at":"2025-12-27T01:34:33.252505-05:00","created_by":"daemon"}]}
{"id":"sherlock-c54","title":"Deduplicate summaries before detail calls","status":"closed","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T09:41:40.481813-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T13:19:51.473997-08:00","closed_at":"2026-02-21T13:19:51.473997-08:00","close_reason":"Closed"}
{"id":"sherlock-cef","title":"Skip incomplete Trulia detail URLs + handle 410","description":"Normalize Trulia URLs from search, skip detail fetch for incomplete URLs, and treat 404/410 as non-fatal.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T16:21:21.727415-08:00","updated_at":"2026-01-19T16:21:59.292415-08:00","closed_at":"2026-01-19T16:21:59.292415-08:00","close_reason":"Closed"}
{"id":"sherlock-cy6","title":"Refactor advanced_matching into smaller scoring modules","description":"Split advanced_matching.py into smaller scoring modules and reduce complexity while keeping scoring behavior stable.","status":"closed","priority":3,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-01-27T23:58:37.802038-08:00","created_by":"Samay Dhawan","updated_at":"2026-01-28T00:38:17.790628-08:00","closed_at":"2026-01-28T00:38:17.790628-08:00","close_reason":"Closed"}
{"id":"sherlock-czw","title":"Source expansion: Redfin ZenRows fallback + embedded parsing","description":"Add Redfin ZenRows fallback and embedded JSON parsing to enrich listings; improve Trulia/Realtor detail extraction for beds/baths/sqft.","notes":"Implemented embedded JSON parsing utilities; enhanced Trulia/Realtor details merge; added Redfin ZenRows fallback (search + details) with URL-based summaries; added REDFIN_SEARCH_URL config; updated spec; tests: pytest -q tests/test_html_parsing.py.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T11:09:23.482007-08:00","updated_at":"2026-01-19T11:11:25.422658-08:00","closed_at":"2026-01-19T11:11:25.422658-08:00","close_reason":"Added Redfin ZenRows fallback + embedded JSON enrichment; improved Trulia/Realtor details; config/spec updated; tests added."}
{"id":"sherlock-dgd","title":"Replace SF-specific NLP keywords","status":"closed","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T09:41:40.369755-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T13:19:51.471992-08:00","closed_at":"2026-02-21T13:19:51.471992-08:00","close_reason":"Closed"}
{"id":"sherlock-efq","title":"Frontend: Fix SSR API base URL (matches/listings not loading in local dev)","description":"Matches/listings load via SSR using SERVER_BASE_URL=http://api:8000; this breaks when running frontend locally. Add env-based base URL or use relative proxy.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T09:40:14.732282-08:00","updated_at":"2026-01-19T09:45:27.760446-08:00","closed_at":"2026-01-19T09:45:27.760446-08:00","close_reason":"Closed"}
{"id":"sherlock-fuo","title":"Frontend: matches nav fails due to SSR API base","description":"Matches navigation likely fails in local dev because SSR fetches /matches via frontend host. Set SSR base to localhost:8000 (unless VITE_API_TARGET set) to ensure load resolves.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T09:53:07.968262-08:00","updated_at":"2026-01-19T10:03:13.991642-08:00","closed_at":"2026-01-19T10:03:13.991642-08:00","close_reason":"Closed"}
{"id":"sherlock-hrb","title":"Establish pylint baseline (PYTHONPATH + docstring policy)","description":"Configure pylint to run cleanly (PYTHONPATH, rcfile, docstring policy) and decide on warnings to enforce.","status":"closed","priority":2,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-01-27T23:58:27.569567-08:00","created_by":"Samay Dhawan","updated_at":"2026-01-28T00:28:30.943805-08:00","closed_at":"2026-01-28T00:28:30.943805-08:00","close_reason":"Closed"}
{"id":"sherlock-knh","title":"Phase 1: Buyer Scoring Engine (Samay \u0026 Kamya)","description":"Implement the opinionated 126-point scoring engine from BUYER-CRITERIA-HANDOFF.md + config/user_criteria.yaml, including hard filters, explainability, and alert triggers.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-19T00:27:56.339582-08:00","updated_at":"2026-01-19T21:47:49.787972-08:00","closed_at":"2026-01-19T21:47:49.787972-08:00","close_reason":"Phase 1 complete: 126-point scoring engine with 17 weighted criteria, multi-source ingestion (Zillow/Redfin/Trulia), OpenAI Vision scoring, tranquility analysis, NLP extraction, text intelligence enrichment. Validated with 41 listings - all have visual/tranquility scores and proper tier classification."}
{"id":"sherlock-knh.1","title":"Repo health: restore tracked source files","description":"Working tree currently missing most tracked files (app/, docs/, frontend/, etc). Restore to a clean baseline before implementing scoring changes.","status":"closed","priority":0,"issue_type":"chore","created_at":"2026-01-19T00:28:09.236521-08:00","updated_at":"2026-01-19T01:18:51.383265-08:00","closed_at":"2026-01-19T01:18:51.383265-08:00","close_reason":"restored tracked files","comments":[{"id":1,"issue_id":"sherlock-knh.1","author":"samaydhawan","text":"Restored tracked files in working tree; repo status clean except untracked spec/config docs.","created_at":"2026-01-19T09:18:44Z"}]}
{"id":"sherlock-knh.10","title":"Text LLM intelligence: analyze listing description + timeline","description":"Add a supplemental text-model analysis layer (Anthropic text) that consumes a markdown summary (description + key facts + event timeline) and returns JSON with evidence quotes: criterion_hints, top_positive_candidates, tradeoff_candidates, red_flags, and why_now. Cache by text hash; run only for hard-filter-pass candidates (top-K or alert candidates).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T00:48:53.634214-08:00","updated_at":"2026-01-19T01:54:30.145306-08:00","closed_at":"2026-01-19T01:54:30.145306-08:00","close_reason":"Text intelligence service integrated (OpenAI)","comments":[{"id":5,"issue_id":"sherlock-knh.10","author":"samaydhawan","text":"Added text_intelligence service with OpenAI JSON-only extraction, caching, and optional enrichment of top matches.","created_at":"2026-01-19T09:53:18Z"}]}
{"id":"sherlock-knh.11","title":"Source expansion: provider registry + source fields","description":"Add source/source_listing_id columns, provider registry, and dedupe policy for multi-source ingestion.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T01:26:08.601408-08:00","updated_at":"2026-01-19T10:27:22.997779-08:00","closed_at":"2026-01-19T10:27:22.997779-08:00","close_reason":"Implemented source fields, provider registry, and dedupe policy."}
{"id":"sherlock-knh.12","title":"Source expansion: ZenRows providers (Redfin/Trulia/Realtor)","description":"Add ZenRows provider adapters and normalized mapping for additional listing sources; ensure per-source toggles and rate limiting.","notes":"Implemented ZenRows universal client + HTML parsing utilities; added Trulia/Realtor/Craigslist providers and registry entries; added source search URL config; hashed non-zillow listing_id; expanded source_listing_id length migration; added parsing tests; updated spec.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T01:26:21.174139-08:00","updated_at":"2026-01-19T10:45:56.027034-08:00","closed_at":"2026-01-19T10:45:56.027034-08:00","close_reason":"Added ZenRows universal client + HTML parsing, implemented Trulia/Realtor/Craigslist providers and registry/config updates; added listing_id hashing and source_listing_id expansion migration."}
{"id":"sherlock-knh.13","title":"Source expansion: curated realtor sources","description":"Add curated agent ingestion (e.g., Priya Agarwal) via lightweight parser or CSV import; treat as high-signal, low-volume sources.","notes":"Started curated source scaffolding: add curated provider, YAML config, registry entry.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-19T01:26:30.305663-08:00","updated_at":"2026-01-19T10:46:25.283792-08:00","closed_at":"2026-01-19T10:46:25.283792-08:00","close_reason":"Added curated provider + YAML config for realtor listings; registry/config wired; ready for realtor URLs."}
{"id":"sherlock-knh.14","title":"Switch visual scoring to OpenAI Vision","description":"Replace Claude Vision calls with OpenAI Responses API for photo analysis; update config/env docs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T02:00:03.543046-08:00","updated_at":"2026-01-19T02:03:08.862566-08:00","closed_at":"2026-01-19T02:03:08.862566-08:00","close_reason":"OpenAI Vision replaced Claude in visual scoring","dependencies":[{"issue_id":"sherlock-knh.14","depends_on_id":"sherlock-knh","type":"parent-child","created_at":"2026-01-19T02:00:03.544034-08:00","created_by":"samaydhawan"}],"comments":[{"id":7,"issue_id":"sherlock-knh.14","author":"samaydhawan","text":"Switched visual scoring to OpenAI Responses API (image inputs per images-vision guide). Updated config/env, prompt parsing, and batch script.","created_at":"2026-01-19T10:02:53Z"},{"id":8,"issue_id":"sherlock-knh.14","author":"samaydhawan","text":"Added .env.local loading in settings so local DB is picked up; added DNS-specific request error logging in OpenAI vision.","created_at":"2026-01-19T10:08:36Z"},{"id":9,"issue_id":"sherlock-knh.14","author":"samaydhawan","text":"Added base64 fallback for image URLs and cost logging hook (OPENAI_VISION_COST_PER_IMAGE_USD). Visual scoring run now succeeds on Zillow images.","created_at":"2026-01-19T10:58:59Z"}]}
{"id":"sherlock-knh.2","title":"Config loader: parse config/user_criteria.yaml into typed BuyerCriteria","description":"Introduce a typed config model (Pydantic/dataclass) that loads hard_filters, soft_caps, weights, nlp_signals, location_modifiers, alerts, visual_preferences, explainability prefs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T00:28:14.728919-08:00","updated_at":"2026-01-19T01:45:20.746338-08:00","closed_at":"2026-01-19T01:45:20.746338-08:00","close_reason":"criteria config loader wired"}
{"id":"sherlock-knh.3","title":"PropertyMatcher: implement 126-point scoring + hard filters","description":"Replace current 0-100 heuristic matcher with buyer-specific HARD_FILTERS + 17-criterion weighted scoring (0-126) per BUYER-CRITERIA-HANDOFF.md.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T00:28:20.197281-08:00","updated_at":"2026-01-19T01:48:20.674718-08:00","closed_at":"2026-01-19T01:48:20.674718-08:00","close_reason":"PropertyMatcher now uses YAML hard filters + 126-point scoring","comments":[{"id":2,"issue_id":"sherlock-knh.3","author":"samaydhawan","text":"Implemented YAML-driven 126-point scoring engine with hard filters, soft caps, explainability fields, and percent/points separation; see advanced_matching.py.","created_at":"2026-01-19T09:45:41Z"}]}
{"id":"sherlock-knh.4","title":"NLP: buyer keyword scoring + context + evidence","description":"Implement positive/negative keyword sets + multipliers (light 1.5x, dark 0.6x, etc), context rules (e.g., 'cozy' only negative without light), and return evidence for explainability.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T00:28:25.645425-08:00","updated_at":"2026-01-19T01:54:09.166601-08:00","closed_at":"2026-01-19T01:54:09.166601-08:00","close_reason":"NLP signal extraction + context rules wired into scoring","comments":[{"id":3,"issue_id":"sherlock-knh.4","author":"samaydhawan","text":"Extended nlp.py with buyer signal detection, context-aware dark handling, generic description heuristic; fixed red-flag extraction.","created_at":"2026-01-19T09:47:48Z"}]}
{"id":"sherlock-knh.5","title":"Geospatial: street-level boosts/penalties + neighborhood micro-targeting","description":"Extend geospatial/location logic to include BOOST_STREETS/PENALIZE_STREETS and penalty conditions (adjacent_to_bar, on_major_thoroughfare, etc) from config/user_criteria.yaml.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T00:28:31.080639-08:00","updated_at":"2026-01-19T01:54:21.216284-08:00","closed_at":"2026-01-19T01:54:21.216284-08:00","close_reason":"Geospatial modifiers + condition penalties wired","comments":[{"id":4,"issue_id":"sherlock-knh.5","author":"samaydhawan","text":"Added apply_location_modifiers in geospatial service and wired into scoring for street boosts/penalties + conditions.","created_at":"2026-01-19T09:50:08Z"}]}
{"id":"sherlock-knh.6","title":"Vision: update Claude prompt + flipper detection","description":"Align visual_scoring.py prompt/output with buyer signals: light quality, warm materials, original details, gray/LVP/flipper tells; map into criterion scores + evidence.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T00:28:36.642666-08:00","updated_at":"2026-01-19T01:56:29.27717-08:00","closed_at":"2026-01-19T01:56:29.27717-08:00","close_reason":"Buyer-specific visual scoring prompt + flipper penalties implemented","comments":[{"id":6,"issue_id":"sherlock-knh.6","author":"samaydhawan","text":"Updated Claude Vision prompt to buyer-specific tokens (light/character/flipper) and applied bonus/penalty mapping in visual scoring.","created_at":"2026-01-19T09:56:19Z"}]}
{"id":"sherlock-knh.7","title":"Explainability: add payload fields + why_now","description":"Return score/percent/tier, top positives (3), key tradeoff (1), signals dict, and why_now derived from listing_events + DOM.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T00:28:42.102636-08:00","updated_at":"2026-01-19T01:54:42.402254-08:00","closed_at":"2026-01-19T01:54:42.402254-08:00","close_reason":"Explainability fields populated on match listings"}
{"id":"sherlock-knh.8","title":"Alerts: event-based immediate + daily digest","description":"Trigger alerts from listing_events and match score thresholds: new listing 76+, price drop 5%+, back on market immediate; DOM\u003e45 and small price drops in daily digest.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-19T00:28:47.502229-08:00","updated_at":"2026-01-19T03:18:07.343208-08:00","closed_at":"2026-01-19T03:18:07.343208-08:00","close_reason":"Closed"}
{"id":"sherlock-knh.9","title":"Add scoring edge-case coverage","description":"Add pytest coverage for hard filter pass/fail, weight math, 'cozy' context exception, HOA/price soft cap penalties, why_now formatting, and alert trigger logic.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-19T00:28:52.963643-08:00","updated_at":"2026-01-19T03:18:23.256458-08:00","closed_at":"2026-01-19T03:18:23.256458-08:00","close_reason":"Closed"}
{"id":"sherlock-lc0","title":"Convert tier thresholds to normalized percentages","status":"closed","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T09:41:40.255728-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T13:19:51.469972-08:00","closed_at":"2026-02-21T13:19:51.469972-08:00","close_reason":"Closed"}
{"id":"sherlock-lxt","title":"Add no_pets hard filter for NYC rental mode","status":"closed","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T09:41:40.53509-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T13:19:51.474912-08:00","closed_at":"2026-02-21T13:19:51.474912-08:00","close_reason":"Closed"}
{"id":"sherlock-m61","title":"Codex handoff quality pass + matching fixes","description":"Cleaned backend/frontend code, fixed matching/filter issues, improved ingestion flow and API client.","status":"closed","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-01-28T00:00:06.646891-08:00","created_by":"Samay Dhawan","updated_at":"2026-01-28T00:00:46.420997-08:00","closed_at":"2026-01-28T00:00:46.420997-08:00","close_reason":"Closed"}
{"id":"sherlock-ms9","title":"Implement feedback capture (like/dislike/neutral)","description":"Add POST /feedback endpoint. Capture listing_id, signal, optional reasons (price, location, light, noise, condition, layout). Store in user_feedback table.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T01:33:51.473955-05:00","updated_at":"2026-01-19T21:58:52.552672-08:00","closed_at":"2026-01-19T21:58:52.552672-08:00","close_reason":"Feedback capture implemented: ListingFeedback model with like/dislike/neutral, API endpoints (POST/GET/DELETE), DossierCard buttons with event dispatch, matches page wiring. DB verified working."}
{"id":"sherlock-opz","title":"Remove NYC-inappropriate hard filters","status":"closed","priority":1,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T09:41:40.31414-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T13:19:51.471011-08:00","closed_at":"2026-02-21T13:19:51.471011-08:00","close_reason":"Closed"}
{"id":"sherlock-pe3","title":"Phase 3: Location Intelligence","description":"Map filters, commute layers, and expanded geo-based scoring. Location quality becomes first-class signal.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T01:33:30.8827-05:00","updated_at":"2025-12-27T01:33:30.8827-05:00"}
{"id":"sherlock-r52","title":"Frontend: show explainability signals in matches","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T08:55:29.858463-08:00","updated_at":"2026-01-19T08:55:47.483802-08:00","closed_at":"2026-01-19T08:55:47.483802-08:00","close_reason":"Closed"}
{"id":"sherlock-u6p","title":"Implement price tracking and historical trends","description":"Track price history per listing. Show price trend graphs. Alert on price drops crossing thresholds.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-27T01:34:10.086914-05:00","updated_at":"2025-12-27T01:34:10.086914-05:00"}
{"id":"sherlock-v4y","title":"Frontend: Listing browse card lacks modern signals/info","description":"ListingCard uses legacy flag names (natural_light_flag etc.) and doesn't surface explainability (score/why_now). Update to new schema and add minimal intel.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T09:40:35.938931-08:00","updated_at":"2026-01-19T09:47:31.324279-08:00","closed_at":"2026-01-19T09:47:31.324279-08:00","close_reason":"Closed"}
{"id":"sherlock-woh","title":"Rams design review: WCAG + visual design fixes (48 issues)","status":"closed","priority":1,"issue_type":"epic","owner":"samay58@gmail.com","created_at":"2026-02-22T01:33:56.142771-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-22T01:46:13.085873-08:00","closed_at":"2026-02-22T01:46:13.085873-08:00","close_reason":"All 48 WCAG/visual issues implemented across 28 files. TypeScript and Vite build clean."}
{"id":"sherlock-wud","title":"Future: Multi-Market Expansion","description":"Parallel ingestion, price tracking, multi-market support beyond SF.","status":"open","priority":4,"issue_type":"epic","created_at":"2025-12-27T01:33:32.466144-05:00","updated_at":"2025-12-27T01:33:32.466144-05:00"}
{"id":"sherlock-xdt","title":"Add frontend lint/format setup (ESLint + format script)","description":"Add ESLint + formatting config/scripts for frontend; ensure make fmt and npm run lint/format work.","status":"closed","priority":2,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-01-27T23:58:17.422412-08:00","created_by":"Samay Dhawan","updated_at":"2026-01-28T00:28:25.964822-08:00","closed_at":"2026-01-28T00:28:25.964822-08:00","close_reason":"Closed"}
{"id":"sherlock-xre","title":"Phase 4: Scale \u0026 Reliability","description":"Job queues, retries, observability dashboards. No silent failures, predictable costs.","status":"open","priority":3,"issue_type":"epic","created_at":"2025-12-27T01:33:31.730125-05:00","updated_at":"2025-12-27T01:33:31.730125-05:00"}
{"id":"sherlock-xyf","title":"Recalibrate year-built bonus for NYC","status":"closed","priority":2,"issue_type":"task","owner":"samay58@gmail.com","created_at":"2026-02-21T09:41:40.425172-08:00","created_by":"Samay Dhawan","updated_at":"2026-02-21T13:19:51.473049-08:00","closed_at":"2026-02-21T13:19:51.473049-08:00","close_reason":"Closed"}
{"id":"sherlock-zcw","title":"Add observability metrics dashboard","description":"Track: ingestion success rate, new listings/day, alert delivery success, match precision (likes/alerts), cost per listing scored. Admin dashboard UI.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-27T01:34:08.783431-05:00","updated_at":"2025-12-27T01:34:08.783431-05:00","dependencies":[{"issue_id":"sherlock-zcw","depends_on_id":"sherlock-2xq","type":"blocks","created_at":"2025-12-27T01:34:34.101014-05:00","created_by":"daemon"}]}
{"id":"sherlock-zux","title":"Visual scoring: top matches option","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T08:58:49.747686-08:00","updated_at":"2026-01-19T08:59:09.201023-08:00","closed_at":"2026-01-19T08:59:09.201023-08:00","close_reason":"Closed"}

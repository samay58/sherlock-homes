# Copy to `.env` (Docker) or `.env.local` (local overrides) and fill in values.
# Never commit real API keys.

# --- Database ---
# Local (SQLite):
# DATABASE_URL=sqlite:///./.local/sherlock.db
#
# Docker (Postgres):
DATABASE_URL=postgresql://postgres:postgres@db:5432/sherlock
RUN_DB_MIGRATIONS_ON_STARTUP=true

# --- Scraping / Ingestion ---
ZENROWS_API_KEY=
ZENROWS_TIMEOUT_SECONDS=45
INGESTION_INTERVAL_HOURS=6
ENABLE_AUTO_INGESTION=true
INGESTION_SOURCES=zillow
MAX_PAGES=25
MAX_DETAIL_CALLS=200

# --- Location / Search ---
SEARCH_LOCATION=san-francisco-ca
# Multi-location search (comma-separated). If set, overrides SEARCH_LOCATION.
SEARCH_LOCATIONS=
SEARCH_MODE=buy

# StreetEasy (NYC rentals): comma-separated neighborhood URLs, e.g.
# STREETEASY_SEARCH_URLS=https://streeteasy.com/for-rent/williamsburg,https://streeteasy.com/for-rent/greenpoint
STREETEASY_SEARCH_URLS=
# Optional: cap StreetEasy pagination to control ZenRows usage/cost.
STREETEASY_MAX_PAGES=5

SEARCH_PRICE_MIN=800000
SEARCH_PRICE_MAX=
SEARCH_BEDS_MIN=2
SEARCH_BATHS_MIN=1.5
SEARCH_SQFT_MIN=1000

# --- Buyer Criteria ---
BUYER_CRITERIA_PATH=config/user_criteria.yaml

# --- OpenAI (Vision + Text) ---
OPENAI_API_KEY=
OPENAI_VISION_MODEL=gpt-4o-mini
OPENAI_VISION_MAX_OUTPUT_TOKENS=500
VISUAL_SCORING_ENABLED=true
VISUAL_PHOTOS_SAMPLE_SIZE=3

OPENAI_TEXT_MODEL=gpt-4o-mini
OPENAI_TEXT_MODEL_HARD=gpt-4.1-mini
OPENAI_TEXT_MAX_LISTINGS=5
OPENAI_TEXT_TIMEOUT_SECONDS=30
OPENAI_TEXT_COST_PER_1K_INPUT_USD=
OPENAI_TEXT_COST_PER_1K_OUTPUT_USD=

# --- DeepInfra (optional OpenAI-compatible fallback for text intelligence) ---
DEEPINFRA_API_KEY=
DEEPINFRA_BASE_URL=https://api.deepinfra.com/v1/openai
DEEPINFRA_TEXT_MODEL=meta-llama/Meta-Llama-3.1-8B-Instruct
# Optional: use a stronger model for very high-scoring listings
DEEPINFRA_TEXT_MODEL_HARD=

# --- JWT (only relevant if auth is enabled/used) ---
SECRET_KEY=PLEASE_CHANGE_ME_IN_ENV
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# --- Alerting (optional) ---
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
ALERT_EMAIL_FROM=
ALERT_EMAIL_TO=

IMESSAGE_ENABLED=false
IMESSAGE_TARGET=

TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
TWILIO_TO_NUMBER=

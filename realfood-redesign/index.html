<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eat Real Food — USDA</title>
  <style>
    :root {
      --black: #111111;
      --white: #FFFFFF;
      --gray: #666666;
      --light: #F0F0F0;
      --warm: #D4733A;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      background: var(--white);
      color: var(--black);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      cursor: none;
    }

    a { cursor: none; }

    /* Cursor */
    #cursor {
      position: fixed;
      width: 18px;
      height: 18px;
      background: var(--warm);
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-50%, -50%);
      opacity: 0;
      z-index: 9999;
      mix-blend-mode: multiply;
      transition: opacity 0.2s;
    }

    #cursor.visible {
      opacity: 0.7;
    }

    .page {
      max-width: 800px;
      margin: 0 auto;
      padding: 48px 24px;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      padding-bottom: 16px;
      border-bottom: 2px solid var(--black);
      margin-bottom: 64px;
    }

    .logo {
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }

    nav {
      display: flex;
      gap: 28px;
      font-size: 13px;
    }

    nav a {
      color: var(--black);
      text-decoration: none;
    }

    nav a:hover {
      color: var(--warm);
    }

    /* Hero */
    .hero {
      margin-bottom: 64px;
    }

    .hero h1 {
      font-size: 42px;
      font-weight: 700;
      letter-spacing: -1px;
      line-height: 1.1;
      margin-bottom: 20px;
    }

    .hero-sub {
      font-size: 18px;
      line-height: 1.6;
      max-width: 480px;
      margin-bottom: 8px;
    }

    .hero-meta {
      font-size: 12px;
      color: var(--gray);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Main content grid */
    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
      margin-bottom: 48px;
      align-items: start;
    }

    @media (max-width: 700px) {
      .main-grid {
        grid-template-columns: 1fr;
      }
    }
    /* Nutrition Label */
    .label {
      border: 2px solid var(--black);
      font-size: 13px;
    }

    .label-header {
      background: var(--black);
      color: var(--white);
      padding: 10px 12px;
      font-weight: 700;
      font-size: 16px;
    }

    .label-subheader {
      padding: 10px 12px;
      font-size: 12px;
      border-bottom: 1px solid var(--black);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .label-subheader span:first-child {
      font-weight: 600;
      color: var(--gray);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .weight-input {
      width: 56px;
      padding: 4px 8px;
      border: 2px solid var(--black);
      font-family: inherit;
      font-size: 13px;
      font-weight: 700;
      text-align: center;
      background: var(--white);
      -moz-appearance: textfield;
    }

    .weight-input::-webkit-outer-spin-button,
    .weight-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .weight-input:focus {
      outline: none;
      border-color: var(--warm);
    }

    .label-thick {
      border-bottom: 8px solid var(--black);
    }

    .label-row {
      display: flex;
      justify-content: space-between;
      padding: 6px 12px;
      border-bottom: 1px solid #ccc;
    }

    .label-row:last-child {
      border-bottom: none;
    }

    .label-row.thick-top {
      border-top: 4px solid var(--black);
    }

    .label-row strong {
      font-weight: 700;
    }

    .label-row .amount {
      font-weight: 700;
      text-align: right;
    }

    .label-row .note {
      font-size: 11px;
      color: var(--gray);
      display: block;
      font-weight: 400;
    }

    .label-section {
      padding: 6px 12px;
      font-weight: 700;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 1px solid var(--black);
      background: var(--warm);
      color: var(--white);
    }

    .label-row.indent {
      padding-left: 24px;
    }

    .label-footer {
      padding: 8px 12px;
      font-size: 10px;
      color: var(--gray);
      border-top: 4px solid var(--black);
    }

    /* Activity inputs */
    .activity-inputs {
      padding: 14px 12px;
      border-bottom: 1px solid var(--black);
      background: var(--light);
    }

    .activity-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      font-size: 12px;
    }

    .activity-row:last-child {
      margin-bottom: 0;
    }

    .activity-label {
      font-weight: 600;
      min-width: 70px;
      color: var(--gray);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .steps-input {
      width: 64px;
      padding: 5px 8px;
      border: 2px solid var(--black);
      font-family: inherit;
      font-size: 13px;
      font-weight: 700;
      text-align: center;
      background: var(--white);
      -moz-appearance: textfield;
    }

    .steps-input::-webkit-outer-spin-button,
    .steps-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .steps-input:focus {
      outline: none;
      border-color: var(--warm);
    }

    .workout-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .workout-chip {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 6px 12px;
      font-size: 12px;
      font-weight: 500;
      border: 2px solid #ddd;
      background: var(--white);
      cursor: pointer;
      transition: all 0.15s;
      user-select: none;
    }

    .workout-chip:hover {
      border-color: var(--black);
    }

    .workout-chip.selected {
      background: var(--black);
      color: var(--white);
      border-color: var(--black);
    }

    .workout-chip.selected:hover {
      background: #222;
    }

    .workout-chip .workout-freq {
      width: 20px;
      padding: 0;
      text-align: center;
      border: none;
      background: transparent;
      font-family: inherit;
      font-size: 12px;
      font-weight: 700;
      color: inherit;
      display: none;
      -moz-appearance: textfield;
    }

    .workout-chip .workout-freq::-webkit-outer-spin-button,
    .workout-chip .workout-freq::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .workout-chip.selected .workout-freq {
      display: inline-block;
    }

    .workout-chip .workout-freq-label {
      font-size: 11px;
      font-weight: 600;
      display: none;
    }

    .workout-chip.selected .workout-freq-label {
      display: inline;
    }

    .activity-note {
      font-size: 11px;
      color: var(--gray);
      margin-top: 12px;
      padding-top: 10px;
      border-top: 1px solid #ddd;
    }

    /* Protein guide - matching label style */
    .protein-guide {
      margin-top: 20px;
      border: 2px solid var(--black);
      font-size: 13px;
    }

    .protein-guide-header {
      background: var(--black);
      color: var(--white);
      padding: 10px 12px;
      font-weight: 700;
      font-size: 16px;
    }

    .protein-guide ul {
      list-style: none;
    }

    .protein-guide li {
      padding: 6px 12px;
      display: flex;
      justify-content: space-between;
      border-bottom: 1px solid #ccc;
    }

    .protein-guide li:last-child {
      border-bottom: none;
    }

    .protein-guide .grams {
      font-weight: 700;
    }

    .protein-guide-footer {
      padding: 8px 12px;
      font-size: 11px;
      color: var(--gray);
      border-top: 2px solid var(--black);
    }

    /* Sample Day section */
    .sample-day-section {
      margin-bottom: 48px;
      padding: 24px;
      background: var(--light);
    }

    .sample-day-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 20px;
      padding-bottom: 12px;
      border-bottom: 2px solid var(--black);
    }

    .sample-day-header h2 {
      font-size: 16px;
      font-weight: 700;
      margin: 0;
    }

    .sample-day-header .note {
      font-size: 12px;
      color: var(--gray);
    }

    .meals-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      margin-bottom: 20px;
    }

    @media (max-width: 700px) {
      .meals-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }
    }

    .meal {
      background: var(--white);
      border: 1px solid #ddd;
    }

    .meal-name {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      padding: 8px 12px;
      border-bottom: 1px solid #ddd;
      background: var(--white);
    }

    .meal-items {
      padding: 8px 12px;
    }

    .meal-item {
      display: flex;
      justify-content: space-between;
      padding: 4px 0;
      font-size: 13px;
    }

    .meal-item .protein {
      font-weight: 700;
      color: var(--gray);
    }

    .meal-item .macros {
      font-size: 10px;
      color: #999;
      display: flex;
      gap: 6px;
      margin-top: 2px;
    }

    .meal-item .macros span {
      white-space: nowrap;
    }

    .meal-item .macros span:first-child {
      font-weight: 600;
      color: var(--gray);
    }

    .meal-item-name {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .meal-item-name a {
      color: var(--black);
      text-decoration: none;
    }

    .meal-item-name a:hover {
      color: var(--warm);
    }

    .meal-subtotal {
      display: flex;
      justify-content: space-between;
      padding: 8px 12px;
      border-top: 1px solid #ddd;
      font-weight: 700;
      font-size: 14px;
    }

    .daily-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      background: var(--black);
      color: var(--white);
      font-weight: 700;
    }

    .daily-total .value {
      font-family: "SF Mono", "Monaco", "Inconsolata", "Fira Mono", monospace;
      font-size: 15px;
      letter-spacing: -0.5px;
    }

    .daily-total .status {
      color: var(--warm);
    }

    .daily-total .status.over {
      color: #888;
    }

    .daily-total .status.under {
      color: #c44;
    }

    .daily-total .status.calculating {
      color: var(--warm);
      display: inline-flex;
      gap: 3px;
    }

    .calc-dot {
      width: 6px;
      height: 6px;
      background: var(--warm);
      opacity: 0.3;
    }

    .calc-dot.active {
      opacity: 1;
    }

    /* Target row */
    .target-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 16px;
      background: var(--light);
      font-size: 13px;
    }

    .target-label {
      font-weight: 400;
      color: var(--gray);
    }

    .target-value {
      font-family: "SF Mono", "Monaco", "Inconsolata", "Fira Mono", monospace;
      font-weight: 700;
      font-size: 14px;
      color: var(--warm);
    }

    /* Weight Goal Section */
    .goal-section {
      margin-bottom: 48px;
      border: 2px solid var(--black);
    }

    .goal-header {
      background: var(--black);
      color: var(--white);
      padding: 10px 12px;
      font-weight: 700;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }

    .goal-header .toggle {
      font-size: 12px;
      opacity: 0.7;
    }

    .goal-inputs {
      padding: 14px 12px;
      border-bottom: 1px solid #ddd;
      display: flex;
      gap: 24px;
      flex-wrap: wrap;
      align-items: center;
      font-size: 12px;
      background: var(--white);
    }

    .goal-input-group {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .goal-input-group span:first-child {
      font-weight: 600;
      color: var(--gray);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .goal-input {
      width: 64px;
      padding: 4px 8px;
      border: 2px solid var(--black);
      font-family: inherit;
      font-size: 13px;
      font-weight: 700;
      text-align: center;
      background: var(--white);
      -moz-appearance: textfield;
    }

    .goal-input::-webkit-outer-spin-button,
    .goal-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .goal-input:focus {
      outline: none;
      border-color: var(--warm);
    }

    .goal-select {
      padding: 4px 8px;
      border: 2px solid var(--black);
      font-family: inherit;
      font-size: 13px;
      font-weight: 700;
      background: var(--white);
      cursor: pointer;
    }

    .goal-select:focus {
      outline: none;
      border-color: var(--warm);
    }

    .goal-results {
      padding: 0;
    }

    .goal-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      padding: 10px 12px;
      border-bottom: 1px solid #eee;
      font-size: 13px;
    }

    .goal-row:last-child {
      border-bottom: none;
    }

    .goal-row.highlight {
      background: #fafafa;
    }

    .goal-row.primary {
      padding: 14px 12px;
      border-bottom: 2px solid var(--light);
    }

    .goal-row-label {
      color: var(--gray);
      font-size: 12px;
    }

    .goal-row-value {
      font-weight: 700;
      text-align: right;
    }

    .goal-row-value.large {
      font-size: 16px;
      letter-spacing: -0.5px;
    }

    .goal-row-value.negative {
      color: var(--warm);
    }

    .goal-row-value.positive {
      color: #2a7;
    }

    .goal-row-value .sub {
      font-weight: 400;
      font-size: 11px;
      color: var(--gray);
      margin-left: 6px;
    }

    .goal-recommendations {
      padding: 14px 12px;
      background: var(--light);
      border-top: 1px solid #ddd;
    }

    .goal-recommendations h4 {
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--gray);
      margin-bottom: 10px;
    }

    .goal-recommendations ul {
      list-style: none;
      font-size: 12px;
      line-height: 1.7;
    }

    .goal-recommendations li {
      padding-left: 14px;
      position: relative;
      margin-bottom: 2px;
    }

    .goal-recommendations li::before {
      content: "→";
      position: absolute;
      left: 0;
      color: var(--warm);
      font-size: 11px;
    }

    .goal-warning {
      padding: 10px 12px;
      background: #fff8f0;
      border-top: 1px solid #ddd;
      font-size: 11px;
      color: var(--warm);
    }

    .goal-content {
      max-height: 500px;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .goal-content.collapsed {
      max-height: 0;
    }

    /* Guidelines section */
    .guidelines-section {
      margin-bottom: 48px;
      padding-top: 32px;
      border-top: 1px solid var(--light);
    }

    .guidelines-section h2 {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      color: var(--gray);
      margin-bottom: 16px;
    }

    .guidelines-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px 32px;
    }

    @media (max-width: 600px) {
      .guidelines-grid {
        grid-template-columns: 1fr;
      }
    }

    .guideline-item {
      font-size: 14px;
      line-height: 1.5;
      margin: 0;
    }

    /* Context */
    .context-section {
      margin-bottom: 32px;
    }

    .context-line {
      font-size: 14px;
      color: var(--gray);
      line-height: 1.6;
    }

    .context-line strong {
      color: var(--black);
    }

    /* Downloads */
    .downloads-section {
      margin-bottom: 48px;
    }

    .download-link {
      font-size: 14px;
      color: var(--warm);
      font-weight: 500;
      text-decoration: none;
    }

    .download-link:hover {
      color: var(--black);
    }

    /* Footer */
    footer {
      padding-top: 24px;
      border-top: 1px solid var(--light);
      font-size: 12px;
      color: var(--gray);
    }

    footer a {
      color: var(--gray);
    }
  </style>
</head>
<body>

<div id="cursor"></div>

<div class="page">

  <header>
    <div class="logo">Eat Real Food</div>
    <nav>
      <a href="#guides">Quick Reference</a>
      <a href="#how">Guidelines</a>
      <a href="#downloads">Resources</a>
    </nav>
  </header>

  <section class="hero">
    <h1>The New Food Pyramid</h1>
    <p class="hero-sub">Protein and vegetables form the dietary foundation. Grains are limited. Added sugar is eliminated. These guidelines replace the 1992 USDA Food Pyramid.</p>
    <p class="hero-meta">USDA & HHS — January 2026</p>
  </section>

  <section id="guides" class="main-grid">
    <div>
      <div class="label">
        <div class="label-header">Daily Eating Guide</div>
        <div class="label-subheader">
          <span>Weight</span>
          <input type="number" class="weight-input" id="weight-input" value="150" min="80" max="400">
          <span style="font-size: 11px; color: var(--gray);">lbs</span>
        </div>
        <div class="activity-inputs">
          <div class="activity-row">
            <span class="activity-label">Steps</span>
            <input type="number" class="steps-input" id="steps-input" value="5000" min="0" max="50000" step="500">
            <span style="font-size: 11px; color: var(--gray);">/day</span>
          </div>
          <div class="activity-row" style="align-items: flex-start;">
            <span class="activity-label" style="padding-top: 6px;">Workouts</span>
            <div class="workout-chips" id="workout-chips">
              <div class="workout-chip" data-workout="running">
                <span class="workout-name">Running</span>
                <input type="number" class="workout-freq" min="1" max="7" value="3">
                <span class="workout-freq-label">×/wk</span>
              </div>
              <div class="workout-chip" data-workout="hiit">
                <span class="workout-name">HIIT</span>
                <input type="number" class="workout-freq" min="1" max="7" value="3">
                <span class="workout-freq-label">×/wk</span>
              </div>
              <div class="workout-chip" data-workout="pilates">
                <span class="workout-name">Pilates</span>
                <input type="number" class="workout-freq" min="1" max="7" value="2">
                <span class="workout-freq-label">×/wk</span>
              </div>
              <div class="workout-chip" data-workout="lifting">
                <span class="workout-name">Lifting</span>
                <input type="number" class="workout-freq" min="1" max="7" value="4">
                <span class="workout-freq-label">×/wk</span>
              </div>
              <div class="workout-chip" data-workout="cycling">
                <span class="workout-name">Cycling</span>
                <input type="number" class="workout-freq" min="1" max="7" value="3">
                <span class="workout-freq-label">×/wk</span>
              </div>
              <div class="workout-chip selected" data-workout="none">
                <span class="workout-name">None</span>
              </div>
            </div>
          </div>
          <div class="activity-note" id="activity-note">
            Activity: Sedentary · 0.5g protein/lb · 1,800 cal/day
          </div>
        </div>
        <div class="label-thick"></div>

        <div class="label-row">
          <span><strong>Calories</strong><span class="note">Daily target</span></span>
          <span class="amount" id="calories-amount">1,800</span>
        </div>

        <div class="label-row">
          <span><strong>Protein</strong><span class="note">Meat, fish, eggs, dairy</span></span>
          <span class="amount" id="protein-amount">75-105g</span>
        </div>

        <div class="label-row">
          <span><strong>Carbs</strong><span class="note" id="carbs-note">Whole grains, fruit, veg</span></span>
          <span class="amount" id="carbs-amount">180-225g</span>
        </div>

        <div class="label-row">
          <span><strong>Fat</strong><span class="note">Butter, olive oil, avocado</span></span>
          <span class="amount" id="fat-amount">50-70g</span>
        </div>

        <div class="label-row">
          <span><strong>Vegetables</strong><span class="note">Any kind</span></span>
          <span class="amount">3 cups</span>
        </div>

        <div class="label-row">
          <span><strong>Fruit</strong><span class="note">Whole, not juice</span></span>
          <span class="amount">2 cups</span>
        </div>

        <div class="label-row">
          <span><strong>Whole Grains</strong><span class="note">Oats, rice, sourdough</span></span>
          <span class="amount" id="grains-amount">2-4 srv</span>
        </div>

        <div class="label-section">Limit</div>

        <div class="label-row indent">
          <span>Added Sugar</span>
          <span class="amount">0g</span>
        </div>

        <div class="label-row indent">
          <span>Refined Grains</span>
          <span class="amount">Minimal</span>
        </div>

        <div class="label-row indent">
          <span>Seed Oils</span>
          <span class="amount">Avoid</span>
        </div>

        <div class="label-footer">
          Active: 0.7× multiplier. Sedentary: 0.5×.
        </div>
      </div>
    </div>

    <div>
      <div class="protein-guide">
        <div class="protein-guide-header">Protein Reference</div>
        <ul>
          <li><span>4 eggs</span><span class="grams">25g</span></li>
          <li><span>6 oz chicken or fish</span><span class="grams">50g</span></li>
          <li><span>1 cup Greek yogurt</span><span class="grams">17g</span></li>
          <li><span>1 can tuna (5 oz)</span><span class="grams">40g</span></li>
          <li><span>3 oz beef</span><span class="grams">25g</span></li>
          <li><span>1 cup cottage cheese</span><span class="grams">28g</span></li>
          <li><span>1 scoop whey protein</span><span class="grams">25g</span></li>
        </ul>
        <div class="protein-guide-footer">
          Your target: <span id="protein-target">75-105g</span>/day = <span id="portions-needed">3-4</span> servings above.
        </div>
      </div>
    </div>
  </section>

  <section class="sample-day-section">
    <div class="sample-day-header">
      <h2>Sample Day</h2>
      <span class="note" id="sample-day-note">150 lb person · 75-105g protein target</span>
    </div>

    <div class="meals-grid">
      <div class="meal">
        <div class="meal-name">Breakfast</div>
        <div class="meal-items">
          <div class="meal-item">
            <div class="meal-item-name">
              <a href="https://www.seriouseats.com/soft-scrambled-eggs-recipe" target="_blank" id="b1-name">3 eggs, scrambled</a>
              <div class="macros" id="b1-macros"><span>18g P</span><span>15g F</span><span>2g C</span><span>216 cal</span></div>
            </div>
          </div>
          <div class="meal-item">
            <div class="meal-item-name">
              <a href="https://www.allrecipes.com/recipe/229960/greek-yogurt-parfait/" target="_blank" id="b2-name">1 cup Greek yogurt</a>
              <div class="macros" id="b2-macros"><span>17g P</span><span>0g F</span><span>6g C</span><span>100 cal</span></div>
            </div>
          </div>
          <div class="meal-item">
            <div class="meal-item-name">
              <span>Berries (1/2 cup)</span>
              <div class="macros"><span>0g P</span><span>0g F</span><span>10g C</span><span>40 cal</span></div>
            </div>
          </div>
        </div>
        <div class="meal-subtotal"><span>Subtotal</span><span id="breakfast-total">35g P · 356 cal</span></div>
      </div>

      <div class="meal">
        <div class="meal-name">Lunch</div>
        <div class="meal-items">
          <div class="meal-item">
            <div class="meal-item-name">
              <a href="https://www.seriouseats.com/the-food-lab-guide-to-grilled-chicken" target="_blank" id="l1-name">6 oz grilled chicken</a>
              <div class="macros" id="l1-macros"><span>50g P</span><span>3g F</span><span>0g C</span><span>228 cal</span></div>
            </div>
          </div>
          <div class="meal-item">
            <div class="meal-item-name">
              <span>Mixed salad (2 cups)</span>
              <div class="macros"><span>2g P</span><span>0g F</span><span>5g C</span><span>30 cal</span></div>
            </div>
          </div>
          <div class="meal-item">
            <div class="meal-item-name">
              <span>Olive oil dressing (2 tbsp)</span>
              <div class="macros"><span>0g P</span><span>28g F</span><span>0g C</span><span>240 cal</span></div>
            </div>
          </div>
        </div>
        <div class="meal-subtotal"><span>Subtotal</span><span id="lunch-total">52g P · 498 cal</span></div>
      </div>

      <div class="meal">
        <div class="meal-name">Dinner</div>
        <div class="meal-items">
          <div class="meal-item">
            <div class="meal-item-name">
              <a href="https://www.bonappetit.com/recipe/slow-roasted-salmon" target="_blank" id="d1-name">4 oz salmon</a>
              <div class="macros" id="d1-macros"><span>28g P</span><span>12g F</span><span>0g C</span><span>208 cal</span></div>
            </div>
          </div>
          <div class="meal-item">
            <div class="meal-item-name">
              <span>Roasted vegetables (1.5 cups)</span>
              <div class="macros"><span>3g P</span><span>5g F</span><span>15g C</span><span>100 cal</span></div>
            </div>
          </div>
          <div class="meal-item">
            <div class="meal-item-name">
              <span>1/2 cup rice</span>
              <div class="macros"><span>2g P</span><span>0g F</span><span>22g C</span><span>100 cal</span></div>
            </div>
          </div>
        </div>
        <div class="meal-subtotal"><span>Subtotal</span><span id="dinner-total">33g P · 408 cal</span></div>
      </div>
    </div>

    <div class="daily-total">
      <span>Daily Total</span>
      <span id="daily-total-display"><span class="value">120g protein · 1,262 cal</span></span>
    </div>
    <div class="target-row" id="target-row">
      <span class="target-label">Your Target</span>
      <span class="target-value" id="target-display">75-105g protein · 1,800 cal</span>
    </div>
  </section>

  <!-- Weight Goal Section -->
  <section class="goal-section" id="goal-section">
    <div class="goal-header" id="goal-header">
      <span>Set Weight Goal</span>
      <span class="toggle" id="goal-toggle">+ expand</span>
    </div>
    <div class="goal-content collapsed" id="goal-content">
      <div class="goal-inputs">
        <div class="goal-input-group">
          <span>Target</span>
          <input type="number" class="goal-input" id="target-weight" value="140" min="80" max="400">
          <span style="font-size: 11px; color: var(--gray);">lbs</span>
        </div>
        <div class="goal-input-group">
          <span>Timeline</span>
          <select class="goal-select" id="goal-timeline">
            <option value="28">4 weeks</option>
            <option value="56">8 weeks</option>
            <option value="84" selected>12 weeks</option>
            <option value="182">6 months</option>
          </select>
        </div>
      </div>
      <div class="goal-results" id="goal-results">
        <div class="goal-row primary">
          <span class="goal-row-label">Goal</span>
          <span class="goal-row-value large" id="goal-description">150 lbs → 140 lbs</span>
        </div>
        <div class="goal-row">
          <span class="goal-row-label">Weight change</span>
          <span class="goal-row-value negative" id="goal-change">-10 lbs<span class="sub" id="goal-rate">~0.8 lbs/week</span></span>
        </div>
        <div class="goal-row">
          <span class="goal-row-label">Your TDEE</span>
          <span class="goal-row-value" id="goal-tdee">1,800 cal</span>
        </div>
        <div class="goal-row highlight">
          <span class="goal-row-label">Daily adjustment</span>
          <span class="goal-row-value negative" id="goal-deficit">-417 cal/day</span>
        </div>
        <div class="goal-row highlight">
          <span class="goal-row-label">Target daily intake</span>
          <span class="goal-row-value large" id="goal-intake">1,383 cal</span>
        </div>
      </div>
      <div class="goal-recommendations" id="goal-recommendations">
        <h4>Recommended Approach</h4>
        <ul id="goal-tips">
          <li>Maintain high protein (75-105g) to preserve muscle</li>
          <li>Add 20-30 min daily walking</li>
          <li>Reduce carbs slightly, keep fat moderate</li>
          <li>This rate is sustainable and healthy</li>
        </ul>
      </div>
      <div class="goal-warning" id="goal-warning" style="display: none;">
        This goal may be too aggressive. Consider extending your timeline for sustainable results.
      </div>
    </div>
  </section>

  <section id="how" class="guidelines-section">
    <h2>Detailed Guidelines</h2>
    <div class="guidelines-grid">
      <p class="guideline-item"><strong>Protein</strong> — 0.5 to 0.7 grams per pound of body weight. Sources: eggs, meat, fish, dairy, legumes.</p>
      <p class="guideline-item"><strong>Vegetables</strong> — 3 cups daily. Any variety, raw or cooked.</p>
      <p class="guideline-item"><strong>Fruit</strong> — 2 cups daily. Whole fruit only; juice does not count.</p>
      <p class="guideline-item"><strong>Grains</strong> — 2 to 4 servings daily. Whole grains only: oats, rice, true sourdough.</p>
      <p class="guideline-item"><strong>Fats</strong> — No restriction. Butter, olive oil, avocado, nuts acceptable.</p>
      <p class="guideline-item"><strong>Sugar</strong> — None. Check labels; appears under many names.</p>
    </div>
  </section>

  <section id="data" class="context-section">
    <p class="context-line"><strong>Context:</strong> 50% of Americans have diabetes or prediabetes. 75% of adults have a chronic condition. 90% of healthcare spending goes to chronic disease. These conditions are diet-related.</p>
  </section>

  <section id="downloads" class="downloads-section">
    <a href="https://realfood.gov/resources" target="_blank" class="download-link">Full documentation at realfood.gov →</a>
  </section>

  <footer>
    U.S. Department of Agriculture & Health and Human Services — DietaryGuidelines@usda.gov
  </footer>

</div>

<script>
  // Cursor animation
  const cursor = document.getElementById('cursor');
  let mouseX = 0, mouseY = 0;
  let cursorX = 0, cursorY = 0;

  document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
    cursor.classList.add('visible');
  });

  document.addEventListener('mouseleave', () => {
    cursor.classList.remove('visible');
  });

  function animateCursor() {
    cursorX += (mouseX - cursorX) * 0.4;
    cursorY += (mouseY - cursorY) * 0.4;
    cursor.style.left = cursorX + 'px';
    cursor.style.top = cursorY + 'px';
    requestAnimationFrame(animateCursor);
  }
  animateCursor();

  // ===== STATE =====
  let selectedWorkouts = new Set(['none']);
  let workoutFrequencies = {
    running: 3,
    hiit: 3,
    pilates: 2,
    lifting: 4,
    cycling: 3
  };
  let currentTDEE = 1800;

  // ===== DOM ELEMENTS =====
  const weightInput = document.getElementById('weight-input');
  const stepsInput = document.getElementById('steps-input');
  const workoutChips = document.querySelectorAll('.workout-chip');
  const activityNote = document.getElementById('activity-note');

  // Daily eating guide elements
  const caloriesAmount = document.getElementById('calories-amount');
  const proteinAmount = document.getElementById('protein-amount');
  const carbsAmount = document.getElementById('carbs-amount');
  const carbsNote = document.getElementById('carbs-note');
  const fatAmount = document.getElementById('fat-amount');
  const grainsAmount = document.getElementById('grains-amount');
  const proteinTarget = document.getElementById('protein-target');
  const portionsNeeded = document.getElementById('portions-needed');

  // Sample day elements
  const sampleDayNote = document.getElementById('sample-day-note');
  const targetDisplay = document.getElementById('target-display');
  const dailyTotalDisplay = document.getElementById('daily-total-display');

  // Goal section elements
  const goalHeader = document.getElementById('goal-header');
  const goalToggle = document.getElementById('goal-toggle');
  const goalContent = document.getElementById('goal-content');
  const targetWeightInput = document.getElementById('target-weight');
  const goalTimelineSelect = document.getElementById('goal-timeline');
  const goalDescription = document.getElementById('goal-description');
  const goalChange = document.getElementById('goal-change');
  const goalDeficit = document.getElementById('goal-deficit');
  const goalTdee = document.getElementById('goal-tdee');
  const goalIntake = document.getElementById('goal-intake');
  const goalRate = document.getElementById('goal-rate');
  const goalTips = document.getElementById('goal-tips');
  const goalWarning = document.getElementById('goal-warning');

  // ===== WORKOUT BONUSES (per session, scaled by frequency) =====
  const workoutBonusPerSession = {
    running: { protein: 0.025, carbBoost: true },    // 0.025 × 4 = 0.10
    hiit: { protein: 0.025, carbBoost: false },      // 0.025 × 4 = 0.10
    pilates: { protein: 0.0125, carbBoost: false },  // 0.0125 × 4 = 0.05
    lifting: { protein: 0.0375, carbBoost: false },  // 0.0375 × 4 = 0.15
    cycling: { protein: 0.02, carbBoost: true },     // 0.02 × 4 = 0.08
    none: { protein: 0, carbBoost: false }
  };

  // ===== BASE MEALS WITH FULL MACROS =====
  const baseMeals = {
    breakfast: [
      {
        id: 'b1',
        baseQty: 3,
        unit: 'eggs',
        name: 'scrambled',
        proteinPer: 6,
        fatPer: 5,
        carbsPer: 0.5,
        calPer: 72,
        recipeUrl: 'https://www.seriouseats.com/soft-scrambled-eggs-recipe'
      },
      {
        id: 'b2',
        baseQty: 1,
        unit: 'cup',
        name: 'Greek yogurt',
        proteinPer: 17,
        fatPer: 0,
        carbsPer: 6,
        calPer: 100,
        recipeUrl: 'https://www.allrecipes.com/recipe/229960/greek-yogurt-parfait/'
      }
    ],
    lunch: [
      {
        id: 'l1',
        baseQty: 6,
        unit: 'oz',
        name: 'grilled chicken',
        proteinPer: 8.33,
        fatPer: 0.5,
        carbsPer: 0,
        calPer: 38,
        recipeUrl: 'https://www.seriouseats.com/the-food-lab-guide-to-grilled-chicken'
      }
    ],
    dinner: [
      {
        id: 'd1',
        baseQty: 4,
        unit: 'oz',
        name: 'salmon',
        proteinPer: 7,
        fatPer: 3,
        carbsPer: 0,
        calPer: 52,
        recipeUrl: 'https://www.bonappetit.com/recipe/slow-roasted-salmon'
      }
    ]
  };

  const BASE_PROTEIN_TOTAL = 113;

  // ===== ACTIVITY CALCULATION =====
  function calculateActivityMultiplier() {
    const steps = parseInt(stepsInput.value) || 5000;

    // Base multiplier
    let multiplier = 0.5;

    // Steps bonus: +0.05 per 2,500 steps over 5,000
    if (steps > 5000) {
      multiplier += Math.min(0.2, (steps - 5000) / 2500 * 0.05);
    }

    // Workout bonuses scaled by frequency
    for (const workout of selectedWorkouts) {
      if (workout !== 'none') {
        const freq = workoutFrequencies[workout] || 3;
        multiplier += workoutBonusPerSession[workout].protein * freq;
      }
    }

    // Cap at 0.9
    return Math.min(0.9, multiplier);
  }

  function getActivityLevel(multiplier) {
    if (multiplier <= 0.55) return 'Sedentary';
    if (multiplier <= 0.65) return 'Lightly Active';
    if (multiplier <= 0.75) return 'Active';
    return 'Very Active';
  }

  function needsCarbBoost() {
    for (const workout of selectedWorkouts) {
      if (workoutBonusPerSession[workout]?.carbBoost) return true;
    }
    return false;
  }

  // ===== TDEE CALCULATION =====
  function calculateTDEE(weight, activityMultiplier) {
    // Simplified TDEE: weight × 12 × activity multiplier (1.0 to 1.5)
    const activityFactor = 1.0 + (activityMultiplier - 0.5) * 1.25; // Maps 0.5-0.9 to 1.0-1.5
    return Math.round(weight * 12 * activityFactor);
  }

  // ===== MACRO CALCULATIONS =====
  function calculateMacros(weight, tdee, needsMoreCarbs) {
    const activityMultiplier = calculateActivityMultiplier();

    // Protein: multiplier × weight
    const proteinLow = Math.round(weight * 0.5);
    const proteinHigh = Math.round(weight * activityMultiplier);
    const proteinMid = Math.round((proteinLow + proteinHigh) / 2);

    // Carbs: 40-50% of calories (higher for runners/cyclists)
    const carbPercent = needsMoreCarbs ? 0.50 : 0.40;
    const carbsTarget = Math.round((tdee * carbPercent) / 4); // 4 cal per gram
    const carbsLow = Math.round(carbsTarget * 0.9);
    const carbsHigh = Math.round(carbsTarget * 1.1);

    // Fat: remaining calories
    const proteinCals = proteinMid * 4;
    const carbCals = carbsTarget * 4;
    const fatCals = tdee - proteinCals - carbCals;
    const fatTarget = Math.round(fatCals / 9); // 9 cal per gram
    const fatLow = Math.round(fatTarget * 0.85);
    const fatHigh = Math.round(fatTarget * 1.15);

    return {
      protein: { low: proteinLow, high: proteinHigh, mid: proteinMid },
      carbs: { low: carbsLow, high: carbsHigh, target: carbsTarget },
      fat: { low: fatLow, high: fatHigh, target: fatTarget },
      calories: tdee
    };
  }

  // ===== FORMAT HELPERS =====
  function formatQty(qty, unit) {
    if (unit === 'cup') {
      if (qty <= 0.3) return '1/4 cup';
      if (qty <= 0.6) return '1/2 cup';
      if (qty <= 0.85) return '3/4 cup';
      if (qty <= 1.2) return '1 cup';
      if (qty <= 1.6) return '1 1/2 cups';
      return Math.round(qty) + ' cups';
    }
    if (unit === 'eggs') {
      const rounded = Math.round(qty);
      return rounded + ' ' + (rounded === 1 ? 'egg' : 'eggs');
    }
    if (unit === 'oz') {
      return Math.round(qty) + ' oz';
    }
    return Math.round(qty) + ' ' + unit;
  }

  function formatNumber(num) {
    return num.toLocaleString();
  }

  // ===== MEAL SCALING =====
  function scaleMeals(targetProtein) {
    const scale = targetProtein / BASE_PROTEIN_TOTAL;
    const results = { breakfast: [], lunch: [], dinner: [] };

    for (const [meal, items] of Object.entries(baseMeals)) {
      for (const item of items) {
        const scaledQty = item.baseQty * scale;
        results[meal].push({
          id: item.id,
          name: formatQty(scaledQty, item.unit) + ' ' + item.name,
          protein: Math.round(scaledQty * item.proteinPer),
          fat: Math.round(scaledQty * item.fatPer),
          carbs: Math.round(scaledQty * item.carbsPer),
          calories: Math.round(scaledQty * item.calPer),
          recipeUrl: item.recipeUrl
        });
      }
    }

    return results;
  }

  // ===== UPDATE FUNCTIONS =====
  function updateAll() {
    const weight = parseInt(weightInput.value) || 150;
    const activityMultiplier = calculateActivityMultiplier();
    const activityLevel = getActivityLevel(activityMultiplier);
    const carbBoost = needsCarbBoost();

    // Calculate TDEE
    currentTDEE = calculateTDEE(weight, activityMultiplier);

    // Calculate macros
    const macros = calculateMacros(weight, currentTDEE, carbBoost);

    // Update activity note with full context
    activityNote.textContent = `Activity: ${activityLevel} · ${activityMultiplier.toFixed(1)}g protein/lb · ${formatNumber(currentTDEE)} cal/day`;

    // Update Daily Eating Guide
    caloriesAmount.textContent = formatNumber(currentTDEE);
    proteinAmount.textContent = `${macros.protein.low}-${macros.protein.high}g`;
    carbsAmount.textContent = `${macros.carbs.low}-${macros.carbs.high}g`;
    fatAmount.textContent = `${macros.fat.low}-${macros.fat.high}g`;

    // Update carbs note if runner/cyclist
    if (carbBoost) {
      carbsNote.textContent = 'Higher for endurance';
      grainsAmount.textContent = '4-6 srv';
    } else {
      carbsNote.textContent = 'Whole grains, fruit, veg';
      grainsAmount.textContent = '2-4 srv';
    }

    // Update protein reference
    proteinTarget.textContent = `${macros.protein.low}-${macros.protein.high}g`;
    const portions = Math.round(macros.protein.mid / 25);
    portionsNeeded.textContent = portions <= 3 ? '2-3' : portions <= 4 ? '3-4' : '4-5';

    // Update sample day note
    sampleDayNote.textContent = `${weight} lb · ${macros.protein.low}-${macros.protein.high}g protein · ${formatNumber(currentTDEE)} cal`;

    // Scale meals
    const scaledMeals = scaleMeals(macros.protein.mid);

    // Calculate totals
    let totalProtein = 0, totalFat = 0, totalCarbs = 0, totalCal = 0;

    // Update breakfast
    const b1 = scaledMeals.breakfast[0];
    const b2 = scaledMeals.breakfast[1];
    document.getElementById('b1-name').textContent = b1.name;
    document.getElementById('b1-macros').innerHTML = `<span>${b1.protein}g P</span><span>${b1.fat}g F</span><span>${b1.carbs}g C</span><span>${b1.calories} cal</span>`;
    document.getElementById('b2-name').textContent = b2.name;
    document.getElementById('b2-macros').innerHTML = `<span>${b2.protein}g P</span><span>${b2.fat}g F</span><span>${b2.carbs}g C</span><span>${b2.calories} cal</span>`;

    const breakfastProtein = b1.protein + b2.protein;
    const breakfastCal = b1.calories + b2.calories + 40; // +40 for berries
    document.getElementById('breakfast-total').textContent = `${breakfastProtein}g P · ${breakfastCal} cal`;
    totalProtein += breakfastProtein;
    totalCal += breakfastCal;

    // Update lunch
    const l1 = scaledMeals.lunch[0];
    document.getElementById('l1-name').textContent = l1.name;
    document.getElementById('l1-macros').innerHTML = `<span>${l1.protein}g P</span><span>${l1.fat}g F</span><span>${l1.carbs}g C</span><span>${l1.calories} cal</span>`;

    const lunchProtein = l1.protein + 2; // +2 for salad
    const lunchCal = l1.calories + 30 + 240; // +salad +dressing
    document.getElementById('lunch-total').textContent = `${lunchProtein}g P · ${lunchCal} cal`;
    totalProtein += lunchProtein;
    totalCal += lunchCal;

    // Update dinner
    const d1 = scaledMeals.dinner[0];
    document.getElementById('d1-name').textContent = d1.name;
    document.getElementById('d1-macros').innerHTML = `<span>${d1.protein}g P</span><span>${d1.fat}g F</span><span>${d1.carbs}g C</span><span>${d1.calories} cal</span>`;

    const dinnerProtein = d1.protein + 5; // +5 for veg and rice
    const dinnerCal = d1.calories + 100 + 100; // +veg +rice
    document.getElementById('dinner-total').textContent = `${dinnerProtein}g P · ${dinnerCal} cal`;
    totalProtein += dinnerProtein;
    totalCal += dinnerCal;

    // Update daily total
    dailyTotalDisplay.innerHTML = `<span class="value">${totalProtein}g protein · ${formatNumber(totalCal)} cal</span>`;
    targetDisplay.textContent = `${macros.protein.low}-${macros.protein.high}g protein · ${formatNumber(currentTDEE)} cal`;

    // Update goal section
    updateGoal();
  }

  function updateGoal() {
    const currentWeight = parseInt(weightInput.value) || 150;
    const targetWeight = parseInt(targetWeightInput.value) || 140;
    const timelineDays = parseInt(goalTimelineSelect.value) || 84;
    const timelineWeeks = Math.round(timelineDays / 7);

    const weightDiff = targetWeight - currentWeight;
    const totalCalChange = weightDiff * 3500; // 3500 cal per lb
    const dailyCalChange = Math.round(totalCalChange / timelineDays);
    const weeklyRate = Math.abs(weightDiff) / (timelineDays / 7);

    // Update goal description
    goalDescription.textContent = `${currentWeight} lbs → ${targetWeight} lbs`;

    // Update weight change with rate
    const rateText = weightDiff !== 0 ? `~${weeklyRate.toFixed(1)} lbs/week` : '';
    if (weightDiff < 0) {
      goalChange.innerHTML = `${weightDiff} lbs<span class="sub">${rateText}</span>`;
      goalChange.className = 'goal-row-value negative';
    } else if (weightDiff > 0) {
      goalChange.innerHTML = `+${weightDiff} lbs<span class="sub">${rateText}</span>`;
      goalChange.className = 'goal-row-value positive';
    } else {
      goalChange.innerHTML = `0 lbs<span class="sub">maintenance</span>`;
      goalChange.className = 'goal-row-value';
    }

    // Update TDEE
    goalTdee.textContent = `${formatNumber(currentTDEE)} cal`;

    // Update daily adjustment
    goalDeficit.textContent = dailyCalChange >= 0 ? `+${dailyCalChange} cal/day` : `${dailyCalChange} cal/day`;
    if (dailyCalChange < 0) {
      goalDeficit.className = 'goal-row-value negative';
    } else if (dailyCalChange > 0) {
      goalDeficit.className = 'goal-row-value positive';
    } else {
      goalDeficit.className = 'goal-row-value';
    }

    // Update target intake (the key actionable number)
    goalIntake.textContent = `${formatNumber(currentTDEE + dailyCalChange)} cal`;

    // Update recommendations - restore all 4 tips
    const tips = [];
    const proteinRange = `${Math.round(currentWeight * 0.5)}-${Math.round(currentWeight * calculateActivityMultiplier())}g`;

    if (weightDiff < 0) {
      tips.push(`Maintain high protein (${proteinRange}) to preserve muscle`);
      tips.push('Add 20-30 min daily walking');
      tips.push('Reduce carbs slightly, keep fat moderate');
      if (weeklyRate <= 1.5) {
        tips.push('This rate is sustainable and healthy');
      } else {
        tips.push('Consider a longer timeline for sustainability');
      }
    } else if (weightDiff > 0) {
      tips.push(`Keep protein high (${proteinRange}) for muscle building`);
      tips.push('Add strength training 3-4x per week');
      tips.push('Increase carbs and healthy fats');
      if (weeklyRate <= 1.5) {
        tips.push('This rate is sustainable and healthy');
      } else {
        tips.push('Consider a longer timeline for sustainability');
      }
    } else {
      tips.push('You\'re at your target weight!');
      tips.push('Focus on maintaining current habits');
      tips.push('Continue regular activity');
    }

    goalTips.innerHTML = tips.map(t => `<li>${t}</li>`).join('');

    // Show warning if too aggressive
    if (Math.abs(dailyCalChange) > 750) {
      goalWarning.style.display = 'block';
    } else {
      goalWarning.style.display = 'none';
    }
  }

  // ===== EVENT LISTENERS =====

  // Weight input
  weightInput.addEventListener('input', updateAll);

  // Steps input
  stepsInput.addEventListener('input', updateAll);

  // Workout chips - handle clicks on the chip (but not on frequency input)
  workoutChips.forEach(chip => {
    chip.addEventListener('click', (e) => {
      // If clicking the frequency input, don't toggle the chip
      if (e.target.classList.contains('workout-freq')) return;

      const workout = chip.dataset.workout;

      if (workout === 'none') {
        // If clicking "None", clear all others
        selectedWorkouts.clear();
        selectedWorkouts.add('none');
        workoutChips.forEach(c => c.classList.remove('selected'));
        chip.classList.add('selected');
      } else {
        // Remove "none" if selecting a workout
        selectedWorkouts.delete('none');
        document.querySelector('[data-workout="none"]').classList.remove('selected');

        // Toggle this workout
        if (selectedWorkouts.has(workout)) {
          selectedWorkouts.delete(workout);
          chip.classList.remove('selected');

          // If nothing selected, add "none" back
          if (selectedWorkouts.size === 0) {
            selectedWorkouts.add('none');
            document.querySelector('[data-workout="none"]').classList.add('selected');
          }
        } else {
          selectedWorkouts.add(workout);
          chip.classList.add('selected');
        }
      }

      updateAll();
    });

    // Handle frequency input changes
    const freqInput = chip.querySelector('.workout-freq');
    if (freqInput) {
      freqInput.addEventListener('input', (e) => {
        const workout = chip.dataset.workout;
        const freq = parseInt(e.target.value) || 1;
        workoutFrequencies[workout] = Math.max(1, Math.min(7, freq));
        updateAll();
      });

      // Prevent chip toggle when clicking/focusing on frequency input
      freqInput.addEventListener('click', (e) => e.stopPropagation());
    }
  });

  // Goal section toggle
  goalHeader.addEventListener('click', () => {
    goalContent.classList.toggle('collapsed');
    goalToggle.textContent = goalContent.classList.contains('collapsed') ? '+ expand' : '- collapse';
  });

  // Goal inputs
  targetWeightInput.addEventListener('input', updateGoal);
  goalTimelineSelect.addEventListener('change', updateGoal);

  // Initialize
  updateAll();
</script>

</body>
</html>
